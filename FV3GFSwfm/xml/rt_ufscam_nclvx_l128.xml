<?xml version="1.0"?>
<!DOCTYPE workflow [

  <!ENTITY FV3GFS_HOME "/home/rtfim/UFS-CAMsuite">
  <!ENTITY PSLOT  "rt_ufscam_l128">
  <!ENTITY ATCFNAME "rt_ccpp_gsd_L128">               <!-- tracker name -->
  <!ENTITY MODL "FV3-CCPP_gsd_L128">                   <!-- plot name;  needs to have 'FV3' in name for NCL -->
  <!ENTITY ANX_MODEL "GFS">                 <!-- model analysis to use for AC stats -->
  <!ENTITY AC_MODEL_NAME "rt_ccpp_gsd_L128">          <!-- AC stats name -->
  <!ENTITY SOUNDING_MODEL_NAME "rt_ccpp_gsd_L128">
  <!ENTITY SURFACE_MODEL_NAME "rt_ccpp_gsd_L128">
  <!ENTITY RES "0p25">
  <!ENTITY FCST_INTERVAL "6">
  <!ENTITY FCST_LENGTH "168">
  <!-- set this to 3 character str - ex. 96 would be 096 - used for final FV3GFS_GF verification file required -->
  <!ENTITY FCST_LENGTH_STR "168">

  <!-- External parameter entites -->
  <!ENTITY % SITES  SYSTEM "all_sites.xml">  %SITES;
  <!ENTITY % TASKS  SYSTEM "all_tasks.xml">  %TASKS;
  <!ENTITY % DEFS   SYSTEM "all_defs.xml">   %DEFS;

  %jet;
  %dbi;
  %metatasks;
]>

<workflow realtime="T" scheduler="&SCHEDULER;" cyclethrottle="9" cyclelifespan="0:25:00:00">
  <log>
    <cyclestr>&FV3GFS_LOG;/workflow/workflow_@Y@m@d@H_&PSLOT;_vxncl.log</cyclestr>
  </log>

  <cycledef group="accvx"> 202009030000 202905010000 12:00:00</cycledef>
  <cycledef group="sfcvx"> 202008010000 202909151200 6:00:00</cycledef>
  <cycledef group="24hr">202009030000 202905010000 24:00:00</cycledef>

  &ac_verif_file_task;
  &ac_verif_task;


 <metatask throttle="38">
    &sounding_168hr_metatask;
    &sounding_task;
  </metatask>

  <metatask throttle="20">
    &surface_72hr_metatask;
    &surface_task;
  </metatask>

  <metatask name="remap_ncl" throttle="29">
<!--
     var name="fcst"> 0 6 12 18 24 30 36 42 48 54 60 66 72 78 84 90 96 102 108 114 120 126 132 138 144 150 156 162 168 </var>
     var name="T"> 000 006 012 018 024 030 036 042 048 054 060 066 072 078 084 090 096 102 108 114 120 132 138 144 150 156 162 168 </var>-->
    &fcst_168hr_metatask;
    &t168hr_metatask;
    &remapgrib_task;
    &ncl_task;
  </metatask>
  &nclzip_task; 

</workflow>
