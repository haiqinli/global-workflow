  <task name="ncl_#T#" cycledefs="24hr" maxtries="5">
    <command>&SCRIPTS;/nclfv3_driver.ksh</command>
    <account>&PROJECT;</account>
    <memory>4G</memory>
    <cores>1</cores>
    <native>--reservation=&RESERVATION_POST; --export=NONE</native>
    <walltime>01:30:00</walltime>
    &PARTITION_RES;
    <jobname><cyclestr>ncl_#T#_&PSLOT;</cyclestr></jobname>
    <join><cyclestr>&FV3GFS_LOG;/ncl/ncl#T#_@Y@m@d@H00.log</cyclestr></join>
    <envar><name>FV3GFS_HOME</name><value>&FV3GFS_HOME;</value></envar>
    <envar><name>FV3GFS_RUN</name><value><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/</cyclestr></value></envar>
    <envar><name>SCRIPTS</name><value>&SCRIPTS;</value></envar>
    <envar><name>PSLOT</name><value>&PSLOT;</value></envar>
    <envar><name>NCL_ROOT</name><value>&NCL_ROOT;</value></envar>
    <envar><name>NCL_HOME</name><value>&NCL_ROOT;</value></envar>
    <envar><name>MODL</name><value>&MODL;</value></envar>
    <envar><name>ATCFNAME</name><value>&ATCFNAME;</value></envar>
    <envar><name>yyyymmdd</name><value><cyclestr>@Y@m@d</cyclestr></value></envar>
    <envar><name>H</name><value><cyclestr>@H</cyclestr></value></envar>
    <envar><name>yyjjjhhmm</name><value><cyclestr>@y@j@H00</cyclestr></value></envar>
    <envar><name>CDUMP</name><value>&CDUMP;</value></envar>
    <envar><name>COMPONENT</name><value>&COMPONENT;</value></envar>
    <envar><name>RES</name><value>&RES;</value></envar>
    <envar><name>T</name><value>#T#</value></envar>
    <envar><name>FCST_TIME</name><value>#fcst#</value></envar>
    <envar><name>FCST_LENGTH</name><value>&FCST_LENGTH;</value></envar>
    <envar><name>GRID_NAMES</name><value>fimD201D130D244D236D224D242</value></envar>
<!--     <envar><name>GRID_NAMES</name><value>fimD201D130D244D236D242</value></envar>
    <envar><name>GRID_NAMES</name><value>fim</value></envar>--> 
    <dependency>
       <and>
         <datadep age="120" minsize="1b"> <cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/&CDUMP;.t@Hz.pgrb2.&RES;.f#T#</cyclestr></datadep>
         <datadep age="120" minsize="1b"><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/post/201/@y@j@H@M0#T#.g2</cyclestr></datadep>
         <datadep age="120" minsize="1b"><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/post/130/@y@j@H@M0#T#.g2</cyclestr></datadep>
         <datadep age="120" minsize="1b"><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/post/244/@y@j@H@M0#T#.g2</cyclestr></datadep>
         <datadep age="120" minsize="1b"><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/post/236/@y@j@H@M0#T#.g2</cyclestr></datadep>
         <datadep age="120" minsize="1b"><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/post/224/@y@j@H@M0#T#.g2</cyclestr></datadep>
         <datadep age="120" minsize="1b"><cyclestr>&FV3GFS_RUN;/&PSLOT;/&CDUMP;.@Y@m@d/@H/&COMPONENT;/post/242/@y@j@H@M0#T#.g2</cyclestr></datadep>
       </and>
    </dependency>
  </task>
